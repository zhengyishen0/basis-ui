---
import { cn } from '@/lib/utils';
import { cva, type VariantProps } from 'class-variance-authority';

const accordionItemVariants = cva(
    'duration-200 ease-out bg-background border border-border rounded-md cursor-pointer group mb-2',
    {
        variants: {
            variant: {
                default: 'bg-background border-border',
                elevated: 'bg-background border-border shadow-elevated',
                flat: 'bg-background border-border shadow-flat',
            },
        },
    }
);

export interface Props extends VariantProps<typeof accordionItemVariants> {
    variant?: 'default' | 'elevated' | 'flat';
    class?: string;
    [key: string]: any; // Alpine.js pass-through
}

const { variant = 'default', class: className, ...alpineProps } = Astro.props;
---

<div
    x-data="{ id: $id('accordion') }"
    {...alpineProps}
    class={cn(accordionItemVariants({ variant }), className)}
>
    <slot />
</div>
