---
import { cn } from '@/lib/utils';

export interface Props {
    condition?: string;
    className?: string;
    [key: string]: any;
}

const {
    condition = "!item.submenu",
    className,
    ...alpineProps
} = Astro.props;

// Extract x-for and x-key from alpineProps
const { 'x-for': xFor, 'x-key': xKey, ...restProps } = alpineProps;
---

{xFor ? (
    <template x-for={xFor} x-key={xKey}>
        <div class={cn('', className)}>
            <!-- True condition slot -->
            <div x-show={condition}>
                <slot name="true" />
            </div>

            <!-- False condition slot -->
            <div x-show={`!(${condition})`}>
                <slot name="false" />
            </div>
        </div>
    </template>
) : (
    <div class={cn('', className)} {...restProps}>
        <slot />
    </div>
)}