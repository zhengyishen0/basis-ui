---
import { cn } from '@/lib/utils';
import { cva, type VariantProps } from 'class-variance-authority';
import { sizes, overflowVariants } from '@/lib/component-variants';

const breadcrumbVariants = cva('w-full', {
    variants: {
        variant: {
            default: '',
            minimal: 'text-sm',
            compact: 'text-xs',
        },
        size: sizes,
        overflow: overflowVariants,
    },
});

export interface Props extends VariantProps<typeof breadcrumbVariants> {
    variant?: 'default' | 'minimal' | 'compact';
    'aria-label'?: string;
    class?: string;
    [key: string]: any; // Alpine.js pass-through
}

const {
    variant = 'default',
    size = 'md',
    overflow = 'fixed',
    'aria-label': ariaLabel = 'breadcrumb',
    class: className,
    ...alpineProps
} = Astro.props;
---

<nav
    aria-label={ariaLabel}
    class={cn(breadcrumbVariants({ variant, size, overflow }), className)}
    {...alpineProps}
>
    <ol class="flex items-center text-sm text-muted-foreground">
        <slot />
    </ol>
</nav>
